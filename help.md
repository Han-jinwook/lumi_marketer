# 현재 발생 중인 문제점 리포트 (Skin Shop Crawler)

## 1. Playwright 브라우저 실행 실패 (현재 가장 시급한 문제)
- **증상**: 로그(`engine.log`)에서 `BrowserType.launch: Executable doesn't exist` 오류 발생.
- **원인**: Playwright 버전이 업데이트되었거나, 환경이 바뀌면서 필요한 브라우저 바이너리(Chromium)가 삭제됨.
- **영향**: 크롤러가 아예 시작조차 하지 못하고 즉시 종료됨.
- **해결 중**: `playwright install` 명령어를 통해 실행 파일을 재설치하고 있습니다.

## 2. Naver 검색 결과 0개 (Bot Detection / Selector Issue)
- **증상**: 브라우저가 실행되더라도 검색 결과가 0개로 나옴.
- **원인**: 
    - **네이버 IP 차단**: "서비스 이용이 제한되었습니다" 메시지가 뜨는 경우.
    - **셀렉터 변경**: 네이버가 UI를 업데이트하여 기존 크롤링 코드(`li.VLTHu` 등)가 작동하지 않는 경우.
- **상태**: 현재 `step1_refined_crawler.py`가 작동하지 않는 주된 원인 중 하나입니다.

## 3. 에이전트 실행 중단 (Agent Termination)
- **증상**: 에이전트가 동작 도중 "Agent execution terminated due to error"와 함께 멈추는 현상.
- **원인**: 
    - 대량의 로그 데이터 처리 시 메모리/성능 문제.
    - 장시간 실행되는 명령어로 인한 타임아웃.
    - 윈도우 환경에서의 특정 터미널 명령어 충돌.
- **대책**: 작업을 더 작은 단위로 쪼개어 실행하고, 불필요한 파일 읽기를 줄여야 합니다.

## 4. 인코딩 및 한글 깨짐 이슈
- **증상**: 로그 파일이나 터미널 출력에서 `?울 ??관리샵`과 같이 한글이 깨짐.
- **원인**: 윈도우 시스템 인코딩(CP949)과 파이썬/파일의 UTF-8 인코딩 간의 충돌.
- **대책**: 로그 기록 시 `utf-8`을 명시하고, 터미널 환경 설정을 조정해야 합니다.

---

### 향후 조치 제안 (진행 중)
1. **[진행 중] 브라우저 복구**: `playwright install`을 실행하여 실행 환경을 정상화합니다.
2. **[필요] 셀렉터 업데이트**: 네이버 검색 결과 페이지의 최신 DOM 구조를 분석하여 코드를 수정해야 합니다.
3. **[필요] 프록시 및 스텔스 도입**: 네이버의 탐지를 피하기 위해 `playwright-stealth`와 유료 프록시 사용을 권장합니다.

